[gd_scene load_steps=7 format=4 uid="uid://d3xic0inlmby0"]

[ext_resource type="Script" uid="uid://brrmrbxhxogiy" path="res://scripts/levels/town.gd" id="1_6a6b3"]
[ext_resource type="Resource" uid="uid://dq55lbqvcquuy" path="res://data/audio/town_theme.tres" id="2_3ay17"]
[ext_resource type="PackedScene" uid="uid://mhkp0k8x04dx" path="res://scenes/ui/HUD.tscn" id="3_ip0dd"]
[ext_resource type="TileSet" uid="uid://c02d7kxsulago" path="res://assets/tilesets/dungeon_tileset.tres" id="6_5ycnk"]
[ext_resource type="PackedScene" uid="uid://c3ohkke4ps7j6" path="res://scenes/npcs/shop_npc.tscn" id="7_0x67q"]
[ext_resource type="PackedScene" uid="uid://dmnp50wydxhid" path="res://scenes/world/portal.tscn" id="7_rklyf"]

[node name="Town" type="Node2D" node_paths=PackedStringArray("floor_tilemap", "wall_tilemap")]
y_sort_enabled = true
script = ExtResource("1_6a6b3")
floor_tilemap = NodePath("FloorTileMap")
wall_tilemap = NodePath("WallTileMap")
level_music = ExtResource("2_3ay17")

[node name="HUD" parent="." instance=ExtResource("3_ip0dd")]

[node name="FloorTileMap" type="TileMapLayer" parent="."]
position = Vector2(-10, -10)
tile_map_data = PackedByteArray("AAD7//n/AAAAAAAAAAD7//v/AAAAAAAAAAD7//3/AAAAAAAAAAD7////AAAAAAAAAAD7/wEAAAAAAAAAAAD7/wMAAAAAAAAAAAD7/wUAAAAAAAAAAAD7/wcAAAAAAAAAAAD7/wkAAAAAAAAAAAD7/wsAAAAAAAAAAAD7/w0AAAAAAAAAAAD7/w8AAAAAAAAAAAD7/xEAAAAAAAAAAAD7/xMAAAAAAAAAAAD7/xUAAAAAAAAAAAD7/xcAAAAAAAAAAAD8/xgAAAAAAAAAAAD9/xgAAAAAAAAAAAD+/xgAAAAAAAAAAAD//xgAAAAAAAAAAAAAABgAAAAAAAAAAAABABgAAAAAAAAAAAACABgAAAAAAAAAAAADABgAAAAAAAAAAAAEABgAAAAAAAAAAAAFABgAAAAAAAAAAAAGABgAAAAAAAAAAAAHABgAAAAAAAAAAAAIABgAAAAAAAAAAAAJABgAAAAAAAAAAAAKABgAAAAAAAAAAAALABgAAAAAAAAAAAAMABgAAAAAAAAAAAANABgAAAAAAAAAAAAOABgAAAAAAAAAAAAPABgAAAAAAAAAAAAQABgAAAAAAAAAAAARABgAAAAAAAAAAAARABcAAAAAAAAAAAARABYAAAAAAAAAAAARABUAAAAAAAAAAAARABQAAAAAAAAAAAARABMAAAAAAAAAAAARABIAAAAAAAAAAAARABEAAAAAAAAAAAARABAAAAAAAAAAAAARAA8AAAAAAAAAAAARAA4AAAAAAAAAAAARAA0AAAAAAAAAAAARAAwAAAAAAAAAAAARAAsAAAAAAAAAAAARAAoAAAAAAAAAAAARAAkAAAAAAAAAAAARAAgAAAAAAAAAAAARAAcAAAAAAAAAAAARAAYAAAAAAAAAAAARAAUAAAAAAAAAAAARAAQAAAAAAAAAAAARAAMAAAAAAAAAAAARAAIAAAAAAAAAAAARAAEAAAAAAAAAAAARAAAAAAAAAAAAAAARAP//AAAAAAAAAAARAP7/AAAAAAAAAAARAP3/AAAAAAAAAAARAPz/AAAAAAAAAAARAPv/AAAAAAAAAAARAPr/AAAAAAAAAAD8//n/AAAAAAAAAAD9//n/AAAAAAAAAAD+//n/AAAAAAAAAAD///n/AAAAAAAAAAAAAPn/AAAAAAAAAAABAPn/AAAAAAAAAAACAPn/AAAAAAAAAAADAPn/AAAAAAAAAAAEAPn/AAAAAAAAAAAFAPn/AAAAAAAAAAAGAPn/AAAAAAAAAAAHAPn/AAAAAAAAAAAIAPn/AAAAAAAAAAAJAPn/AAAAAAAAAAAKAPn/AAAAAAAAAAALAPn/AAAAAAAAAAAMAPn/AAAAAAAAAAANAPn/AAAAAAAAAAAOAPn/AAAAAAAAAAAPAPn/AAAAAAAAAAAQAPn/AAAAAAAAAAARAPn/AAAAAAAAAAD7/xgAAAAAAAAAAAD7/xYAAAAAAAAAAAD7/xQAAAAAAAAAAAD7/xIAAAAAAAAAAAD7/xAAAAAAAAAAAAD7/w4AAAAAAAAAAAD7/wwAAAAAAAAAAAD7/woAAAAAAAAAAAD7/wgAAAAAAAAAAAD7/wYAAAAAAAAAAAD7/wQAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wAAAAAAAAAAAAD7//7/AAAAAAAAAAD7//z/AAAAAAAAAAD7//r/AAAAAAAAAAD+/wsAAAAAAAAAAAD+/wwAAAAAAAAAAAD+/w0AAAAAAAAAAAD+/w4AAAAAAAAAAAD+/w8AAAAAAAAAAAD//w8AAAAAAAAAAAAAAA8AAAAAAAAAAAABAA8AAAAAAAAAAAACAA8AAAAAAAAAAAADAA8AAAAAAAAAAAADAA4AAAAAAAAAAAADAA0AAAAAAAAAAAADAAwAAAAAAAAAAAADAAsAAAAAAAAAAAADAAoAAAAAAAAAAAACAAoAAAAAAAAAAAABAAoAAAAAAAAAAAAAAAoAAAAAAAAAAAD//woAAAAAAAAAAAD+/woAAAAAAAAAAAAEAAoAAAAAAAAAAAAEAA4AAAAAAAAAAAAFAAoAAAAAAAAAAAAFAA4AAAAAAAAAAAAGAAoAAAAAAAAAAAAGAA4AAAAAAAAAAAAHAAoAAAAAAAAAAAAHAA4AAAAAAAAAAAAIAAoAAAAAAAAAAAAIAAsAAAAAAAAAAAAIAAwAAAAAAAAAAAAIAA0AAAAAAAAAAAAIAA4AAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAYAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAYAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAYAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAYAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAYAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAYAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAYAAAAAAAAAAAALAAEAAAAAAAAAAAALAAYAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAADAPr/AAAAAAAAAAADAPv/AAAAAAAAAAADAPz/AAAAAAAAAAADAP3/AAAAAAAAAAAEAP3/AAAAAAAAAAAFAP3/AAAAAAAAAAAGAP3/AAAAAAAAAAAHAP3/AAAAAAAAAAAIAPr/AAAAAAAAAAAIAPv/AAAAAAAAAAAIAPz/AAAAAAAAAAAIAP3/AAAAAAAAAAA=")
tile_set = ExtResource("6_5ycnk")

[node name="WallTileMap" type="TileMapLayer" parent="."]
position = Vector2(-10, -10)
tile_map_data = PackedByteArray("AAD7//n/AAAAAAAAAAD7//v/AAAAAAAAAAD7//3/AAAAAAAAAAD7////AAAAAAAAAAD7/wEAAAAAAAAAAAD7/wMAAAAAAAAAAAD7/wUAAAAAAAAAAAD7/wcAAAAAAAAAAAD7/wkAAAAAAAAAAAD7/wsAAAAAAAAAAAD7/w0AAAAAAAAAAAD7/w8AAAAAAAAAAAD7/xEAAAAAAAAAAAD7/xMAAAAAAAAAAAD7/xUAAAAAAAAAAAD7/xcAAAAAAAAAAAD8/xgAAAAAAAAAAAD9/xgAAAAAAAAAAAD+/xgAAAAAAAAAAAD//xgAAAAAAAAAAAAAABgAAAAAAAAAAAABABgAAAAAAAAAAAACABgAAAAAAAAAAAADABgAAAAAAAAAAAAEABgAAAAAAAAAAAAFABgAAAAAAAAAAAAGABgAAAAAAAAAAAAHABgAAAAAAAAAAAAIABgAAAAAAAAAAAAJABgAAAAAAAAAAAAKABgAAAAAAAAAAAALABgAAAAAAAAAAAAMABgAAAAAAAAAAAANABgAAAAAAAAAAAAOABgAAAAAAAAAAAAPABgAAAAAAAAAAAAQABgAAAAAAAAAAAARABgAAAAAAAAAAAARABcAAAAAAAAAAAARABYAAAAAAAAAAAARABUAAAAAAAAAAAARABQAAAAAAAAAAAARABMAAAAAAAAAAAARABIAAAAAAAAAAAARABEAAAAAAAAAAAARABAAAAAAAAAAAAARAA8AAAAAAAAAAAARAA4AAAAAAAAAAAARAA0AAAAAAAAAAAARAAwAAAAAAAAAAAARAAsAAAAAAAAAAAARAAoAAAAAAAAAAAARAAkAAAAAAAAAAAARAAgAAAAAAAAAAAARAAcAAAAAAAAAAAARAAYAAAAAAAAAAAARAAUAAAAAAAAAAAARAAQAAAAAAAAAAAARAAMAAAAAAAAAAAARAAIAAAAAAAAAAAARAAEAAAAAAAAAAAARAAAAAAAAAAAAAAARAP//AAAAAAAAAAARAP7/AAAAAAAAAAARAP3/AAAAAAAAAAARAPz/AAAAAAAAAAARAPv/AAAAAAAAAAARAPr/AAAAAAAAAAD8//n/AAAAAAAAAAD9//n/AAAAAAAAAAD+//n/AAAAAAAAAAD///n/AAAAAAAAAAAAAPn/AAAAAAAAAAABAPn/AAAAAAAAAAACAPn/AAAAAAAAAAADAPn/AAAAAAAAAAAEAPn/AAAAAAAAAAAFAPn/AAAAAAAAAAAGAPn/AAAAAAAAAAAHAPn/AAAAAAAAAAAIAPn/AAAAAAAAAAAJAPn/AAAAAAAAAAAKAPn/AAAAAAAAAAALAPn/AAAAAAAAAAAMAPn/AAAAAAAAAAANAPn/AAAAAAAAAAAOAPn/AAAAAAAAAAAPAPn/AAAAAAAAAAAQAPn/AAAAAAAAAAARAPn/AAAAAAAAAAD7/xgAAAAAAAAAAAD7/xYAAAAAAAAAAAD7/xQAAAAAAAAAAAD7/xIAAAAAAAAAAAD7/xAAAAAAAAAAAAD7/w4AAAAAAAAAAAD7/wwAAAAAAAAAAAD7/woAAAAAAAAAAAD7/wgAAAAAAAAAAAD7/wYAAAAAAAAAAAD7/wQAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wAAAAAAAAAAAAD7//7/AAAAAAAAAAD7//z/AAAAAAAAAAD7//r/AAAAAAAAAAD+/wsAAAAAAAAAAAD+/wwAAAAAAAAAAAD+/w0AAAAAAAAAAAD+/w4AAAAAAAAAAAD+/w8AAAAAAAAAAAD//w8AAAAAAAAAAAAAAA8AAAAAAAAAAAABAA8AAAAAAAAAAAACAA8AAAAAAAAAAAADAA8AAAAAAAAAAAADAA4AAAAAAAAAAAADAA0AAAAAAAAAAAADAAwAAAAAAAAAAAADAAsAAAAAAAAAAAADAAoAAAAAAAAAAAACAAoAAAAAAAAAAAABAAoAAAAAAAAAAAAAAAoAAAAAAAAAAAD//woAAAAAAAAAAAD+/woAAAAAAAAAAAAEAAoAAAAAAAAAAAAEAA4AAAAAAAAAAAAFAAoAAAAAAAAAAAAFAA4AAAAAAAAAAAAGAAoAAAAAAAAAAAAGAA4AAAAAAAAAAAAHAAoAAAAAAAAAAAAHAA4AAAAAAAAAAAAIAAoAAAAAAAAAAAAIAAsAAAAAAAAAAAAIAAwAAAAAAAAAAAAIAA0AAAAAAAAAAAAIAA4AAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAYAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAYAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAYAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAYAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAYAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAYAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAYAAAAAAAAAAAALAAEAAAAAAAAAAAALAAYAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAADAPr/AAAAAAAAAAADAPv/AAAAAAAAAAADAPz/AAAAAAAAAAADAP3/AAAAAAAAAAAEAP3/AAAAAAAAAAAFAP3/AAAAAAAAAAAGAP3/AAAAAAAAAAAHAP3/AAAAAAAAAAAIAPr/AAAAAAAAAAAIAPv/AAAAAAAAAAAIAPz/AAAAAAAAAAAIAP3/AAAAAAAAAAA=")
tile_set = ExtResource("6_5ycnk")

[node name="Portal" parent="." instance=ExtResource("7_rklyf")]
position = Vector2(1668, 347)
target_scene_path = "uid://cys1ord7jy672"

[node name="ShopNpc" parent="." instance=ExtResource("7_0x67q")]
position = Vector2(1270, 152)

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://c04jx6vcgex1j")
spawn_path = NodePath("../PlayerContainer")

[node name="PlayerContainer" type="Node2D" parent="."]

[node name="PlayerSpawnPoints" type="Node2D" parent="."]

[node name="PlayerSpawnPoint1" type="Marker2D" parent="PlayerSpawnPoints"]
position = Vector2(1061, 411)

[node name="PlayerSpawnPoint2" type="Marker2D" parent="PlayerSpawnPoints"]
position = Vector2(1322, 413)

[node name="PlayerSpawnPoint3" type="Marker2D" parent="PlayerSpawnPoints"]
position = Vector2(1332, 589)

[node name="PlayerSpawnPoint4" type="Marker2D" parent="PlayerSpawnPoints"]
position = Vector2(1069, 594)

[node name="LootSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("uid://boxuys3wl2v3p")
spawn_path = NodePath("../LootContainer")

[node name="LootContainer" type="Node2D" parent="."]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.3137255, 0.3137255, 0.3137255, 1)
